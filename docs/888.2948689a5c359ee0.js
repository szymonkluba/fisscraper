"use strict";(self.webpackChunkfis_scraper_frontend=self.webpackChunkfis_scraper_frontend||[]).push([[888],{6888:(pe,I,i)=>{i.r(I),i.d(I,{ScraperModule:()=>me});var s=i(9808),p=i(3007),m=i(9244),e=i(5e3),u=i(9224),C=i(3251),d=i(9633);const A=(0,d.ZF)("files"),F=(0,d.ZF)("spinner");var R=i(1040),U=i(4834),g=i(7423),N=i(7238),T=i(3874),f=i(5899),S=i(5150),x=i(773);let b=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-file-spinner"]],decls:2,vars:0,consts:[[1,"file-spinner"],["mode","indeterminate"]],template:function(r,a){1&r&&(e.TgZ(0,"div",0),e._UZ(1,"mat-spinner",1),e.qZA())},directives:[x.$g],styles:[".file-spinner[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}"]}),t})();function y(t,n){if(1&t){const r=e.EpF();e.TgZ(0,"mat-card-actions",5),e.TgZ(1,"button",6),e.NdJ("click",function(){e.CHM(r);const l=e.oxw().ngIf;return e.oxw().downloadAll(l)}),e._uU(2," DOWNLOAD ALL "),e.TgZ(3,"mat-icon"),e._uU(4," save_alt "),e.qZA(),e.qZA(),e.qZA()}}function q(t,n){if(1&t&&e._UZ(0,"mat-progress-bar",7),2&t){const r=n.ngIf;e.Q6J("mode","PENDING"===r.state?"buffer":"determinate")("value",r.progress)("color","DONE"===r.state||"IN_PROGRES"===r.state?"accent":"warn")}}function J(t,n){1&t&&e._UZ(0,"app-file-entry",8),2&t&&e.Q6J("file",n.$implicit)}function E(t,n){1&t&&e._UZ(0,"app-file-spinner")}function O(t,n){if(1&t&&(e.ynx(0),e.TgZ(1,"mat-card"),e.TgZ(2,"mat-card-title"),e._uU(3,"Current files:"),e.qZA(),e.YNc(4,y,5,0,"mat-card-actions",1),e.YNc(5,q,1,3,"mat-progress-bar",2),e.ALo(6,"async"),e._UZ(7,"mat-divider",3),e.TgZ(8,"mat-card-content"),e.YNc(9,J,1,1,"app-file-entry",4),e.YNc(10,E,1,0,"app-file-spinner",0),e.ALo(11,"async"),e.qZA(),e.qZA(),e.BQk()),2&t){const r=n.ngIf,a=e.oxw();e.xp6(4),e.Q6J("ngIf",r.length>1),e.xp6(1),e.Q6J("ngIf",e.lcZ(6,4,a.download$)),e.xp6(4),e.Q6J("ngForOf",r),e.xp6(1),e.Q6J("ngIf",e.lcZ(11,6,a.spinnerState$))}}let M=(()=>{class t{constructor(r,a){this.store=r,this.dropbox=a}ngOnInit(){this.files$=this.store.select(A),this.spinnerState$=this.store.select(F)}downloadAll(r){this.download$=this.dropbox.downloadCurrentFiles(r)}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(d.yh),e.Y36(R.x))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-current-files"]],decls:2,vars:3,consts:[[4,"ngIf"],["align","end",4,"ngIf"],[3,"mode","value","color",4,"ngIf"],["inset",""],[3,"file",4,"ngFor","ngForOf"],["align","end"],["mat-button","","matTooltip","Download all files as .zip",3,"click"],[3,"mode","value","color"],[3,"file"]],template:function(r,a){1&r&&(e.YNc(0,O,12,8,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,a.files$))},directives:[s.O5,u.a8,u.n5,U.d,u.dn,s.sg,u.hq,g.lW,N.gM,T.Hw,f.pW,S.o,b],pipes:[s.Ov],styles:["mat-card[_ngcontent-%COMP%]{width:min(70rem,100%);min-height:15rem;margin:2rem auto}mat-card-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(20rem,1fr));grid-auto-rows:12rem;grid-gap:2rem;gap:2rem}"],changeDetection:0}),t})();function Q(t,n){if(1&t){const r=e.EpF();e.TgZ(0,"a",2),e.NdJ("click",function(){const v=e.CHM(r).$implicit;return e.oxw().activeLink=v.path}),e._uU(1),e.qZA()}if(2&t){const r=n.$implicit,a=e.oxw();e.Q6J("active",a.activeLink==r.path)("routerLink",r.routerPath)("routerLinkActive",r.path===a.activeLink?"active":""),e.xp6(1),e.hij(" ",r.label," ")}}let Y=(()=>{class t{constructor(){this.links=[m.$.SINGLE_RACE,m.$.MULTI_RACES,m.$.RANGE_RACES],this.activeLink=window.location.pathname}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-scraper"]],decls:5,vars:1,consts:[["mat-tab-nav-bar",""],["mat-tab-link","",3,"active","routerLink","routerLinkActive","click",4,"ngFor","ngForOf"],["mat-tab-link","",3,"active","routerLink","routerLinkActive","click"]],template:function(r,a){1&r&&(e.TgZ(0,"mat-card"),e.TgZ(1,"nav",0),e.YNc(2,Q,2,4,"a",1),e.qZA(),e._UZ(3,"router-outlet"),e.qZA(),e._UZ(4,"app-current-files")),2&r&&(e.xp6(2),e.Q6J("ngForOf",a.links))},directives:[u.a8,C.BU,s.sg,p.lC,M,p.yS,C.Nj,p.Od],styles:["mat-card[_ngcontent-%COMP%]{margin:0 auto;width:100%;max-width:70rem}"]}),t})();var o=i(3075),k=i(9646),_=i(7544),c=i(7322),Z=i(7531),h=i(2368);function L(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter "),e.TgZ(2,"strong"),e._uU(3,"number"),e.qZA(),e._uU(4," greater than 0 "),e.qZA())}function w(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter "),e.TgZ(2,"strong"),e._uU(3,"number"),e.qZA(),e.qZA())}function $(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," FIS ID is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA(),e.qZA())}function P(t,n){1&t&&e._UZ(0,"mat-progress-bar",7),2&t&&e.Q6J("value",100*n.ngIf)}function G(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter "),e.TgZ(2,"strong"),e._uU(3,"number"),e.qZA(),e._uU(4," greater than 0 "),e.qZA())}function B(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter "),e.TgZ(2,"strong"),e._uU(3,"number"),e.qZA(),e.qZA())}function X(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," FIS ID is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA(),e.qZA())}function j(t,n){if(1&t&&(e.TgZ(0,"div",8),e.TgZ(1,"mat-form-field",9),e.TgZ(2,"mat-label"),e._uU(3,"FIS ID"),e.qZA(),e._UZ(4,"input",10),e.YNc(5,G,5,0,"mat-error",11),e.YNc(6,B,4,0,"mat-error",11),e.YNc(7,X,4,0,"mat-error",11),e.qZA(),e.TgZ(8,"mat-slide-toggle",12),e._uU(9,"Details"),e.qZA(),e.qZA()),2&t){const r=n.index,a=e.oxw();e.Q6J("formGroupName",r),e.xp6(5),e.Q6J("ngIf",a.fisId[r].hasError("min")),e.xp6(1),e.Q6J("ngIf",a.fisId[r].hasError("pattern")),e.xp6(1),e.Q6J("ngIf",a.fisId[r].hasError("required"))}}function W(t,n){1&t&&e._UZ(0,"mat-progress-bar",13),2&t&&e.Q6J("value",n.ngIf)}function z(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter "),e.TgZ(2,"strong"),e._uU(3,"number"),e.qZA(),e._uU(4," greater than 0 "),e.qZA())}function H(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter "),e.TgZ(2,"strong"),e._uU(3,"number"),e.qZA(),e.qZA())}function K(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Initial FIS ID is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA(),e.qZA())}function ee(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter "),e.TgZ(2,"strong"),e._uU(3,"number"),e.qZA(),e._uU(4," greater than 0 "),e.qZA())}function te(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter "),e.TgZ(2,"strong"),e._uU(3,"number"),e.qZA(),e.qZA())}function re(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Final FIS ID is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA(),e.qZA())}function ne(t,n){1&t&&e._UZ(0,"mat-progress-bar",8),2&t&&e.Q6J("value",n.ngIf)}const ae=[{path:"",redirectTo:m.$.SINGLE_RACE.routerPath},{path:"",component:Y,children:[{path:m.$.SINGLE_RACE.routerPath,component:(()=>{class t{constructor(r,a){this.formBuilder=r,this.scraperService=a,this.fisId=new o.NI(0,[o.kI.required,o.kI.min(1),o.kI.pattern("[0-9]*")]),this.details=new o.NI(!1),this.progress$=(0,k.of)(0),this.raceForm=this.formBuilder.group({fis_id:this.fisId,details:this.details})}submit(){this.progress$=this.scraperService.scrapRace(this.raceForm.value)}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(o.qu),e.Y36(_.V))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-single-race"]],decls:14,vars:7,consts:[[1,"single-race-form",3,"formGroup"],["appearance","fill"],["matInput","","type","number","formControlName","fis_id"],[4,"ngIf"],["formControlName","details"],["mat-raised-button","","color","primary",1,"single-race-form-submit",3,"click"],["color","accent","mode","buffer",3,"value",4,"ngIf"],["color","accent","mode","buffer",3,"value"]],template:function(r,a){1&r&&(e.TgZ(0,"form",0),e.TgZ(1,"mat-form-field",1),e.TgZ(2,"mat-label"),e._uU(3,"FIS ID"),e.qZA(),e._UZ(4,"input",2),e.YNc(5,L,5,0,"mat-error",3),e.YNc(6,w,4,0,"mat-error",3),e.YNc(7,$,4,0,"mat-error",3),e.qZA(),e.TgZ(8,"mat-slide-toggle",4),e._uU(9,"Details"),e.qZA(),e.TgZ(10,"button",5),e.NdJ("click",function(){return a.submit()}),e._uU(11,"Scrap!"),e.qZA(),e.qZA(),e.YNc(12,P,1,1,"mat-progress-bar",6),e.ALo(13,"async")),2&r&&(e.Q6J("formGroup",a.raceForm),e.xp6(5),e.Q6J("ngIf",a.fisId.hasError("min")),e.xp6(1),e.Q6J("ngIf",a.fisId.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",a.fisId.hasError("required")),e.xp6(5),e.Q6J("ngIf",e.lcZ(13,5,a.progress$)))},directives:[o._Y,o.JL,o.sg,c.KE,c.hX,Z.Nt,o.wV,o.Fj,o.JJ,o.u,s.O5,h.Rr,g.lW,c.TO,f.pW],pipes:[s.Ov],styles:[".single-race-form[_ngcontent-%COMP%]{width:min(40rem,100%);padding:3rem;display:flex;grid-gap:.5rem;gap:.5rem;flex-direction:column}.single-race-form-submit[_ngcontent-%COMP%]{margin-top:3rem}"]}),t})()},{path:m.$.MULTI_RACES.routerPath,component:(()=>{class t{constructor(r,a){this.formBuilder=r,this.scraperService=a,this.fisId=[],this.details=new o.NI(!1),this.raceForm=this.formBuilder.group({races:this.formBuilder.array([this.newRace()])})}races(){return this.raceForm.get("races")}newRace(){return this.fisId.push(new o.NI(0,[o.kI.required,o.kI.min(1),o.kI.pattern(/\d*/)])),this.formBuilder.group({fis_id:this.fisId[this.fisId.length-1],details:this.details})}addInput(){this.races().push(this.newRace())}removeInput(){this.fisId.pop(),this.races().removeAt(this.races().length-1)}submit(){this.progress$=this.scraperService.scrapMultipleRaces(this.races().value)}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(o.qu),e.Y36(_.V))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-multi-races"]],decls:14,vars:5,consts:[[3,"formGroup"],["formArrayName","races",1,"multi-races-form"],["class","multi-races-form-group",3,"formGroupName",4,"ngFor","ngForOf"],[1,"multi-races-form-controls"],["mat-icon-button","","color","accent",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",1,"multi-races-form-submit",3,"click"],["color","accent","mode","buffer",3,"value",4,"ngIf"],[1,"multi-races-form-group",3,"formGroupName"],["appearance","fill"],["matInput","","type","number","formControlName","fis_id"],[4,"ngIf"],["formControlName","details"],["color","accent","mode","buffer",3,"value"]],template:function(r,a){1&r&&(e.TgZ(0,"form",0),e.TgZ(1,"div",1),e.YNc(2,j,10,4,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"button",4),e.NdJ("click",function(){return a.addInput()}),e.TgZ(5,"mat-icon"),e._uU(6,"exposure_plus_1"),e.qZA(),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return a.removeInput()}),e.TgZ(8,"mat-icon"),e._uU(9,"exposure_neg_1"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"button",6),e.NdJ("click",function(){return a.submit()}),e._uU(11,"Scrap!"),e.qZA(),e.qZA(),e.qZA(),e.YNc(12,W,1,1,"mat-progress-bar",7),e.ALo(13,"async")),2&r&&(e.Q6J("formGroup",a.raceForm),e.xp6(2),e.Q6J("ngForOf",a.races().controls),e.xp6(10),e.Q6J("ngIf",e.lcZ(13,3,a.progress$)))},directives:[o._Y,o.JL,o.sg,o.CE,s.sg,g.lW,T.Hw,s.O5,o.x0,c.KE,c.hX,Z.Nt,o.wV,o.Fj,o.JJ,o.u,h.Rr,c.TO,f.pW],pipes:[s.Ov],styles:[".multi-races-form[_ngcontent-%COMP%]{width:min(40rem,100%);padding:3rem;display:flex;grid-gap:1rem;gap:1rem;flex-direction:column}.multi-races-form-controls[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;grid-gap:.5rem;gap:.5rem}.multi-races-form-group[_ngcontent-%COMP%]{display:flex;grid-gap:.5rem;gap:.5rem;flex-direction:column}.multi-races-form-group[_ngcontent-%COMP%] + .multi-races-form-group[_ngcontent-%COMP%]{margin-block:.5rem}.multi-races-form-submit[_ngcontent-%COMP%]{margin-top:3rem}mat-suffix[_ngcontent-%COMP%]{max-height:2rem}"]}),t})()},{path:m.$.RANGE_RACES.routerPath,component:(()=>{class t{constructor(r,a){this.formBuilder=r,this.scraperService=a,this.startFisId=new o.NI(0,[o.kI.required,o.kI.min(1),o.kI.pattern(/\d*/)]),this.endFisId=new o.NI(0,[o.kI.required,o.kI.min(1),o.kI.pattern(/\d*/)]),this.details=new o.NI(!1),this.raceForm=this.formBuilder.group({start_fis_id:this.startFisId,end_fis_id:this.endFisId,details:this.details})}submit(){this.progress$=this.scraperService.scrapRangeOfRaces(this.raceForm.value)}ngOnInit(){}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(o.qu),e.Y36(_.V))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-range-races"]],decls:21,vars:10,consts:[[1,"range-races-form",3,"formGroup"],["appearance","fill"],["matInput","","type","number","formControlName","start_fis_id"],[4,"ngIf"],["matInput","","type","number","formControlName","end_fis_id"],["formControlName","details"],["mat-raised-button","","color","primary",1,"range-races-form-submit",3,"click"],["color","accent","mode","buffer",3,"value",4,"ngIf"],["color","accent","mode","buffer",3,"value"]],template:function(r,a){1&r&&(e.TgZ(0,"form",0),e.TgZ(1,"mat-form-field",1),e.TgZ(2,"mat-label"),e._uU(3,"Initial FIS ID"),e.qZA(),e._UZ(4,"input",2),e.YNc(5,z,5,0,"mat-error",3),e.YNc(6,H,4,0,"mat-error",3),e.YNc(7,K,4,0,"mat-error",3),e.qZA(),e.TgZ(8,"mat-form-field",1),e.TgZ(9,"mat-label"),e._uU(10,"Final FIS ID"),e.qZA(),e._UZ(11,"input",4),e.YNc(12,ee,5,0,"mat-error",3),e.YNc(13,te,4,0,"mat-error",3),e.YNc(14,re,4,0,"mat-error",3),e.qZA(),e.TgZ(15,"mat-slide-toggle",5),e._uU(16,"Details"),e.qZA(),e.TgZ(17,"button",6),e.NdJ("click",function(){return a.submit()}),e._uU(18,"Scrap!"),e.qZA(),e.qZA(),e.YNc(19,ne,1,1,"mat-progress-bar",7),e.ALo(20,"async")),2&r&&(e.Q6J("formGroup",a.raceForm),e.xp6(5),e.Q6J("ngIf",a.startFisId.hasError("min")),e.xp6(1),e.Q6J("ngIf",a.startFisId.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",a.startFisId.hasError("required")),e.xp6(5),e.Q6J("ngIf",a.endFisId.hasError("min")),e.xp6(1),e.Q6J("ngIf",a.endFisId.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",a.endFisId.hasError("required")),e.xp6(5),e.Q6J("ngIf",e.lcZ(20,8,a.progress$)))},directives:[o._Y,o.JL,o.sg,c.KE,c.hX,Z.Nt,o.wV,o.Fj,o.JJ,o.u,s.O5,h.Rr,g.lW,c.TO,f.pW],pipes:[s.Ov],styles:[".range-races-form[_ngcontent-%COMP%]{width:min(40rem,100%);padding:3rem;display:flex;grid-gap:.5rem;gap:.5rem;flex-direction:column}.range-races-form-submit[_ngcontent-%COMP%]{margin-top:3rem}"]}),t})()}]}];let ie=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[p.Bz.forChild(ae)],p.Bz]}),t})();var se=i(7325),ce=i(4466);let me=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[s.ez,ie,se.h,o.u5,o.UX,o.u5,ce.m]]}),t})()}}]);